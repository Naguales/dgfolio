---
/* ====================================================================================
   Skills.astro
   This component renders the Skills & Expertise section with dynamic icons.
   ==================================================================================== */

const skills = [
  {
    title: "Programming",
    icon: "code-xml",
    lines: [
      "<span class='top-skill'>C++ (C++11–20)</span>, C, JavaScript",
      "<span class='top-skill'>Qt</span> / QML, Boost",
      "OOP, Templates, <span class='top-skill'>Multithreading</span>",
    ],
  },
  {
    title: "Application Development",
    icon: "app",
    lines: [
      "<span class='top-skill'>Desktop apps (Qt/C++)</span>",
      "<span class='top-skill'>Web UI (HTML/CSS/JavaScript)</span>",
      "Interactive reports (Qt WebEngine), GDI+",
    ],
  },
  {
    title: "Architecture & Integration",
    icon: "layers",
    lines: [
      "<span class='top-skill'>Modular architecture</span>",
      "API integration",
      "MQTT, REST API",
    ],
  },
  {
    title: "Build & Tooling",
    icon: "tools",
    lines: [
      "CMake, Makefiles, Docker, Ubuntu",
      "Shell scripting, PowerShell",
      "VS Code, Visual Studio, Qt Creator",
      "CI/CD (GitLab, Azure Pipelines)",
    ],
  },
  {
    title: "Geometry & Visualization",
    icon: "chart",
    lines: [
      "2D/3D geometry & algorithms",
      "<span class='top-skill'>3D visualization</span>",
      "SVG, D3.js",
    ],
  },
  {
    title: "Embedded Systems",
    icon: "cpu",
    lines: [
      "Embedded Linux, microcontrollers",
      "Drivers, real-time",
      "I2C, SPI, UART",
    ],
  },
];

/* Icon definitions – lightweight Lucide-style inline SVG paths */
const icons = {
  "code-xml": `<path d="m18 16 4-4-4-4"/><path d="m6 8-4 4 4 4"/><path d="m14.5 4-5 16"/>`,
  layers: `<circle cx="12" cy="6" r="3"/><path d="M3 12h18"/><path d="M6 18h12"/>`,
  cpu: `<rect x="6" y="6" width="12" height="12" rx="2"/><path d="M9 1v4M15 1v4M9 19v4M15 19v4M1 9h4M1 15h4M19 9h4M19 15h4"/>`,
  wrench: `<path d="M14.7 6.3a4 4 0 0 1 2.9 6.8l-7.9 7.9a2 2 0 0 1-2.8-2.8l7.9-7.9a4 4 0 0 1-.1-4"/>`,
  app: `<rect x="3" y="3" width="18" height="18" rx="3"/><path d="M3 9h18"/><path d="M9 21V9"/>`,
  chart: `<rect x="3" y="3" width="18" height="18" rx="3"/><path d="M7 16V12"/><path d="M12 16V8"/><path d="M17 16v-4"/>`,
  tools: `<circle cx="12" cy="12" r="3" /><path d="M19.4 12.97c.04-.32.06-.65.06-.97s-.02-.65-.06-.97l1.93-1.5a.6.6 0 0 0 .14-.76l-1.4-2.42a.6.6 0 0 0-.74-.26l-2.27.91a7.25 7.25 0 0 0-1.68-.97l-.35-2.43A.6.6 0 0 0 14.1 3h-2.2h-2.2a.6.6 0 0 0-.59.5l-.35 2.43a7.25 7.25 0 0 0-1.68.97l-2.27-.91a.6.6 0 0 0-.74.26L2.43 8.53a.6.6 0 0 0 .14.76l1.93 1.5c-.04.32-.06.65-.06.97s.02.65.06.97l-1.93 1.5a.6.6 0 0 0-.14.76l1.4 2.42c.16.28.5.39.74.26l2.27-.91c.52.38 1.08.7 1.68.97l.35 2.43a.6.6 0 0 0 .59.5h4.4a.6.6 0 0 0 .59-.5l.35-2.43a7.25 7.25 0 0 0 1.68-.97l2.27.91c.25.13.58.02.74-.26l1.4-2.42a.6.6 0 0 0-.14-.76l-1.93-1.5z"/>`,
};
---

<!-- ====================================================================================
     SECTION: Skills & Expertise
     Grid layout of categorized skills with icons
     ==================================================================================== -->
<section id="skills" class="skills">
  <div class="inner">
    <h2 class="heading">Skills &amp; Expertise</h2>

    <div class="grid">
      {
        skills.map((skill) => (
          <div class="skill-card">
            <!-- Icon -->
            <div class="icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <g set:html={icons[skill.icon]} />
              </svg>
            </div>

            <!-- Category title -->
            <h3 class="title">{skill.title}</h3>

            <!-- Skill items -->
            <ul class="list">
              {skill.lines.map((line) => (
                <li set:html={line}></li>
              ))}
            </ul>
          </div>
        ))
      }
    </div>
  </div>
</section>

<style>
  html, body {
    overflow-x: hidden;
  }
  
  /* ============================================================================
     BASE LAYOUT
     Full-width section with soft violet gradient background
     ============================================================================ */
  .skills {
    min-height: 60vh;
    width: 100vw;
    padding: 0;

    margin-left: 50%;
    transform: translateX(-50%);

    display: flex;
    justify-content: center;
    align-items: center;

    background: linear-gradient(
      to bottom,
      color-mix(in oklab, var(--color-background) 99%, var(--color-accent-hover) 3%) 0%,
      color-mix(in oklab, var(--color-background) 93%, var(--color-accent) 7%) 50%,
      color-mix(in oklab, var(--color-background) 90%, var(--color-accent) 10%) 100%
    );

    font-family: var(--font-secondary);
  }

  .inner {
    max-width: 80rem;
    margin: 0 auto;
    padding: 1.6rem;

    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 1024px) {
    .skills {
      height: auto;
      padding: 4rem 0 4rem;
      display: block;
    }

    .inner {
      display: block;
      padding: 0 1.25rem;
    }
  }

  /* ============================================================================
     HEADINGS
     ============================================================================ */
  .heading {
    text-align: center;
    font-weight: 800;
    font-family: var(--font-primary);
    font-size: clamp(1.75rem, 1.2rem + 2vw, 2.25rem);
    color: var(--color-primary);
    margin-bottom: 2.5rem;
  }

  /* ============================================================================
     GRID LAYOUT
     ============================================================================ */
  .grid {
    display: grid;
    gap: 1.5rem;
  }

  @media (min-width: 768px) {
    .grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  /* ============================================================================
     SKILL CARDS
     ============================================================================ */
  .skill-card {
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: 16px;
    padding: 1.25rem;

    box-shadow: var(--shadow-soft);
    transition: 
      transform 0.2s ease,
      box-shadow 0.2s ease,
      border-color 0.2s ease;
  }

  .skill-card:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-hover);
    border-color: var(--color-border-accent);
  }

  /* ============================================================================
     ICONS
     ============================================================================ */
  .icon {
    width: 42px;
    height: 42px;
    border-radius: 12px;

    background: var(--color-tag-bg);
    color: var(--color-tag-text);

    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 0.75rem;
  }

  .icon svg {
    width: 26px;
    height: 26px;
  }

  /* ============================================================================
     TEXT STYLES
     ============================================================================ */
  .title {
    font-size: 1.1rem;
    font-weight: 700;
    margin-bottom: 0.35rem;
    color: var(--color-primary);
  }

  .list {
    padding-left: 1rem;
    list-style: disc;
    color: var(--color-muted);
    line-height: 1.4;
  }

  .list li {
    margin: 0.2rem 0;
  }
</style>
